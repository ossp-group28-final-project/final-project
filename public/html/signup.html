<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>28조</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
	<link href="../css/signup.css" rel="stylesheet"/>
</head>
<body>
	<nav class="navbar">
		<div class="container-fluid">
		  	<a class="navbar-brand" href="">
				<img src="../img/crown.png" width="60" height="60" class="mt-2">
				BE THE 1
			</a>
		</div>
	</nav>
	<div class="container rounded-">
		<text class="header">회원가입</text>
		<form id="form" class="mt-3">
			<div class="mb-3">
			  <label for="ID" class="form-label">ID</label>
			  <input type="text" class="form-control" id="ID" aria-describedby="emailHelp">
			</div>
			<div class="mb-3">
			  <label for="PW" class="form-label">비밀번호</label>
			  <input type="password" class="form-control" id="PW">
			</div>
			<div class="mb-3">
				<label for="Name" class="form-label">이름</label>
				<input type="text" class="form-control" id="Name">
			</div>
			<div class="mb-3">
				<label for="Birth" class="form-label">생년월일</label>
				<input type="date" class="form-control" id="Birth">
			</div>
			<div class="mb-3">
				<label for="Belong" class="form-label">대학/고교</label>
				<input type="text" class="form-control" id="Belong">
			</div>
			<div class="mb-3">
				<label for="Email" class="form-label">이메일</label>
				<input type="email" class="form-control" id="Email">
			</div>
			<div class="btn-box">
				<button type="submit" class="btn" id="signup">회원가입</button>
			</div>
		</form>
	</div>
	<script>
		const form = document.getElementById('form');

		form.addEventListener('submit', () => {
			let id = document.getElementById("ID").value;
			let pw = document.getElementById("PW").value;
			let name = document.getElementById("Name").value;
			let birth = document.getElementById("Birth").value;
			let belong = document.getElementById("Belong").value;
			let email = document.getElementById("Email").value;
			let userInfo = {
				id: id,
				pw: pw,
				name: name,
				birth: birth,
				belong: belong,
				email: email,
			}
			fetch("/signup", {
				method: "POST",
				headers: {
					'Content-Type': 'application/json',
				},
				body: JSON.stringify(userInfo)
			}).then((res)=>{
				if(res.ok){
					location.href = "../";
					alert("회원가입이 완료되었습니다.");
				}
			})
		});
	</script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
</body>
</html>