<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>List</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
	<link href="../css/list.css" rel="stylesheet"/>
</head>

<body>
	<nav class="navbar">
		<div class="container-fluid">
		  <a class="navbar-brand" href="">28조</a>
		</div>
	</nav>
  <div class="container rounded-">
		<text class="header">팀 리스트</text>
    <div id="contAreaBox">
      <form name="inputForm" id="inputForm" method="post" onsubmit="return _onSubmit(); return false;" action="${path}/create_action.do">
        <div class="table-responsive mt-2">
          <table id="resTb" class="table table-striped table-bordered text-center tbl_List">
            <tr>
              <th width=60>번호</th>
              <th width=100>공모전</th>
              <th width=150>제목</th>
              <th>내용</th>
							<th width=100>팀원</th>
							<th width=100>참가</th>
            </tr>
						<tbody id="tBody">
						</tbody>
          </table>
          <div class="text-center">
						<input type="button" value="팀 생성" onclick="newpopup()">
          </div>
        </div>
				<input type="hidden" id="Name">
				<input type="hidden" id="Title">
				<input type="hidden" id="Content">
				<input type="hidden" id="Member">
      </form>
    </div>
		<text class="header">나의 팀</text>
			<table id="resTb" class="table table-striped table-bordered text-center tbl_List">
				<tr>
					<th width=60>번호</th>
					<th width=100>공모전</th>
					<th width=150>제목</th>
					<th>내용</th>
					<th width=100>팀원</th>
					<th width=100>제거</th>
				</tr>
				<tbody id="teamBody">
				</tbody>
			</table>
		<script>
		  let liRowIdx = 0;
			function deleteRow(idx){
				 const el = document.querySelector('#teamBody #tr'+idx);
				 el.parentElement.removeChild(el);
			}
			function copyRow(el, idx){
				if(el.innerText==='제거'){
					deleteRow(idx);
					return;
				}
				if(document.querySelector('#teamBody #tr'+idx)){
					alert('aleady append row!!');
					return;
				}
				document.querySelector('#teamBody').innerHTML += document.querySelector('#tr' + idx).outerHTML
				document.querySelector('#teamBody #copyBtn' + idx).innerText='제거';
			}
		  function addRow() {
		    var vname = document.getElementById("Name").value,
		    vtitle = document.getElementById("Title").value,
		    vcontent = document.getElementById("Content").value,
				vmember = document.getElementById("Member").value;
		    if (vname != "" && vname != "" && vmember != ""){
					liRowIdx++;
					let html = '';
					html += '<tr id="tr' + liRowIdx + '">';
					html += '<td>' + liRowIdx + '</td>';
					html += '<td>' + vname + '</td>';
					html += '<td>' + vtitle + '</td>';
					html += '<td>' + vcontent + '</td>';
					html += '<td>' + vmember + '</td>';
					html += '<td><button type="button" id="copyBtn' + liRowIdx + '" onclick="copyRow(this,' + liRowIdx + ')">참가</button></td>';
					html += '</tr>';
					document.querySelector('#tBody').innerHTML += html;
		      document.getElementById("Name").value = "";
		      document.getElementById("Title").value = "";
		      document.getElementById("Content").value = "";
					document.getElementById("Member").value = "";

		    }
				else{
				}
			}

			function newpopup() {
				window.open("team.html", "팀 생성", "width=700, height=800,left=100");
					 }
		</script>
</body>
</html>
